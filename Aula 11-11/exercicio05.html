<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercicio 05</title>
</head>
<body>
    
    Nome do produto: <input type="text" id="inProduto"> <br>
    Preço do produto: <input type="text" id="inPreco"> <br><br>
    <button onclick="cadastrar()">Cadastrar</button>
    <button onclick="relatorio()">Relatório de Estoque</button> <br><br>
    <div id="divMsg"></div>

</body>
</html>

<script>

    var v = [];

    function cadastrar() {

        var produtos = {
            nome : inProduto.value,
            preco : Number(inPreco.value)
        };

        v.push(produtos);

        inProduto.value = '';
        inPreco.value = '';

    }

    function relatorio() {
        var frase = '';
        var sum = 0;
        var sum2 = 0;
        var caro = '';
        var barato = '';
        var soma = 0;
        var frase2 = '';
        var frase3 = '';
        
        for (var i = 0, sum2 = v[0].preco; i < v.length; i++) {

            frase += `Produto ${i+1} : ${v[i].nome} <br> Preço de compra: R$${v[i].preco}. Vender por R$${v[i].preco * 1.25} <br><br>`
            
            /* if (sum == v[i].preco) {
                frase2 = `, ${v[i].nome}`;
            }

            if (sum2 == v[i].preco) {
                frase3 = `, ${v[i].nome}`;
            } */

            if (v[i].preco > sum) {
                sum = v[i].preco;
                caro = v[i].nome;
            }

            if (v[i].preco < sum2) {
                sum2 = v[i].preco;
                barato = v[i].nome;
            }

            soma += v[i].preco;

        }

        divMsg.innerHTML = `Total de Produtos: ${v.length} <br><br>
        ${frase} <br>
        O produto mais caro: <b>${caro}${frase2}</b> <br>
        O produto mais barato: <b>${barato}${frase3}</b> <br>
        A soma dos preços de compra dos produtos: <b>${soma}</b> <br>
        A média de preço de venda dos produtos: <b>${(soma / v.length).toFixed(2)}</b> <br>
        `

    }

</script>